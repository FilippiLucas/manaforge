<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - ManaForge</title>

    <link rel="stylesheet" href="./styles/login.css">
</head>

<body>

    <main class="main-container">
        <form class="login-form" id="loginForm" action="./index.html">
            <div class="logo-container">
                <img src="https://res.cloudinary.com/dqnrpauzk/image/upload/v1763919969/logo_ljidep.png" alt="Logo"
                    width="125">
                <img src="https://res.cloudinary.com/dqnrpauzk/image/upload/v1763919969/manaforge_o8kakt.png"
                    alt="ManaForge" width="125" class="logo-text">
            </div>

            <div class="form-group">
                <label for="email">Email</label>
                <input type="text" placeholder="Provide your email" id="email" name="email" required>
                <p id="error" style="color:red; margin-top:4px;"></p>
            </div>

            <div class="form-group">
                <label for="password">Password</label>
                <input type="password" placeholder="Provide your password" id="password" name="password" required>
            </div>

            <button type="submit" class="login-button">Login</button>
        </form>
    </main>

</body>

<script src="../node_modules/jquery/dist/jquery.min.js"></script>
<script src="../node_modules/jquery-mask-plugin/dist/jquery.mask.min.js"></script>
<script src="../node_modules/jquery/dist/jquery.min.js"></script>
<script>
    $(document).ready(function () {
        const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-z]{2,}$/;

        $('#loginForm').on('submit', function (e) {
            e.preventDefault();

            const email = $('#email').val().trim();
            const password = $('#password').val().trim();

            if (!emailRegex.test(email)) {
                $('#error').text('Invalid email address');
                $('#email').focus();
                return;
            }

            if (password.length === 0) {
                $('#error').text('Password cannot be empty');
                $('#password').focus();
                return;
            }
            $('#error').text('');
            window.location.href = './index.html';
        });
        
        $('#email').on('input', function () {
            const email = $(this).val().trim();
            if (!emailRegex.test(email)) {
                $(this).css('border-color', 'red');
                $('#error').text('Invalid email address');
            } else {
                $(this).css('border-color', '');
                $('#error').text('');
            }
        });
    });


</script>

</html>